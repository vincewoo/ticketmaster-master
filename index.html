<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticketmaster Master - Beat the Rush!</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/peerjs@1.5.1/dist/peerjs.min.js"></script>
</head>
<body>
    <div id="game-container">
        <!-- Header with game info -->
        <header class="game-header">
            <div class="header-left">
                <h1>üé´ Ticketmaster Master</h1>
                <p class="event-name">Summer Music Festival 2025</p>
            </div>
            <div class="header-right">
                <div class="target-display">
                    <span class="label">Target Tickets:</span>
                    <span id="target-tickets" class="target-tickets">0</span>
                </div>
                <div class="timer-display">
                    <span class="label">Time Remaining:</span>
                    <span id="timer" class="timer">2:00</span>
                </div>
                <div class="score-display">
                    <span class="label">Your Score:</span>
                    <span id="score" class="score">0</span>
                </div>
                <div class="opponent-score-display hidden" id="opponent-score-display">
                    <span class="label">Opponent:</span>
                    <span id="opponent-score" class="score">0</span>
                </div>
            </div>
        </header>

        <!-- Main game area -->
        <div class="game-main">
            <!-- Theater area (stage + seats) -->
            <div class="theater-area">
                <!-- Stage area -->
                <div class="stage-container">
                    <div class="stage">üé§ STAGE üé§</div>
                </div>

                <!-- Seating chart -->
                <div class="seating-chart" id="seating-chart">
                    <!-- Seats will be generated by JavaScript -->
                </div>
            </div>

            <!-- Sidebar with cart -->
            <aside class="sidebar">
                <div class="cart-container">
                    <h2>Your Cart</h2>
                    <div id="cart-items" class="cart-items">
                        <p class="empty-cart">No tickets selected</p>
                    </div>
                    <div class="cart-total">
                        <strong>Total:</strong>
                        <span id="cart-total">$0.00</span>
                    </div>
                    <button id="checkout-btn" class="checkout-btn" disabled>Checkout</button>
                    <button id="skip-btn" class="skip-btn">Skip Target (-50 pts)</button>
                </div>

                <div class="game-info">
                    <h3>How to Play</h3>
                    <ul>
                        <li>Match the target ticket count shown at top</li>
                        <li>1-3 seats: must be adjacent in same row</li>
                        <li>4+ seats: can span 2 rows as touching block
                            <div class="block-examples">
                                <div class="example-label">Valid blocks:</div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [‚ñ†][‚ñ†]</div>
                                </div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [‚ñ†][‚ñ†]</div>
                                </div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [ ][‚ñ†][‚ñ†]</div>
                                </div>
                            </div>
                        </li>
                        <li>Can't find seats? Skip target for -50 pts penalty</li>
                        <li>Prices change constantly - grab deals fast!</li>
                        <li>Seats randomly become available/unavailable</li>
                        <li>Complete CAPTCHA challenges to checkout</li>
                        <li>Only valid purchases earn points!</li>
                    </ul>
                </div>
            </aside>
        </div>

        <!-- CAPTCHA Modal (Text) -->
        <div id="captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Prove you're human to continue!</p>
                <div id="captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="captcha-timer">10</span>s
                </div>
                <div class="captcha-challenge" id="captcha-challenge">
                    <!-- CAPTCHA will be generated here -->
                </div>
                <input type="text" id="captcha-input" class="captcha-input" placeholder="Enter the code">
                <div class="captcha-buttons">
                    <button id="captcha-submit" class="btn-primary">Submit</button>
                    <button id="captcha-cancel" class="btn-secondary">Cancel</button>
                </div>
                <div id="captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- Gas Pump CAPTCHA Modal -->
        <div id="gas-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Prove you're human to continue!</p>
                <div id="gas-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="gas-pump-container">
                    <div class="gas-pump-challenge">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üöó‚õΩ</div>
                        <p class="gas-pump-instruction">Stop the pump at exactly <strong id="gas-target">$0.00</strong></p>
                        <div class="gas-pump-display">
                            <div class="gas-pump-screen">
                                <span id="gas-amount">$0.00</span>
                            </div>
                        </div>
                        <p class="gas-attempts">Attempts remaining: <span id="gas-attempts">3</span></p>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="gas-stop-btn" class="btn-primary btn-large" disabled>STOP</button>
                    <button id="gas-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="gas-captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- Puzzle Slider CAPTCHA Modal -->
        <div id="puzzle-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Slide the puzzle piece to complete the image!</p>
                <div id="puzzle-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="puzzle-timer">10</span>s
                </div>
                <div class="puzzle-container">
                    <canvas id="puzzle-canvas" width="400" height="250"></canvas>
                    <div class="puzzle-piece-container" id="puzzle-piece-container">
                        <canvas id="puzzle-piece" width="80" height="80"></canvas>
                    </div>
                </div>
                <div class="slider-container">
                    <input type="range" id="puzzle-slider" class="puzzle-slider" min="0" max="340" value="0">
                    <div class="slider-track">
                        <div class="slider-arrow">‚Üí</div>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="puzzle-submit" class="btn-primary">Verify</button>
                    <button id="puzzle-cancel" class="btn-secondary">Cancel</button>
                </div>
                <div id="puzzle-captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- Fishing CAPTCHA Modal -->
        <div id="fishing-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Catch the fish to prove you're human!</p>
                <div id="fishing-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="fishing-timer">15</span>s
                </div>
                <div class="fishing-game-container">
                    <canvas id="fishing-canvas" width="400" height="300"></canvas>
                    <div class="fishing-progress-container">
                        <div class="fishing-progress-label">Catch Progress:</div>
                        <div class="fishing-progress-bar">
                            <div id="fishing-progress-fill" class="fishing-progress-fill"></div>
                        </div>
                    </div>
                    <div class="fishing-instruction">
                        Hold the button to keep the fish in the green zone!
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="fishing-action-btn" class="btn-primary btn-large">HOLD TO FISH</button>
                    <button id="fishing-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="fishing-captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- NBA Free Throw CAPTCHA Modal -->
        <div id="nba-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Make the free throw to prove you're human!</p>
                <div id="nba-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="nba-timer">10</span>s
                </div>
                <div class="nba-game-container">
                    <canvas id="nba-canvas" width="400" height="300"></canvas>
                    <div class="nba-instruction">
                        <div id="nba-stage-text">STAGE 1: AIM (Horizontal)</div>
                        <div class="nba-help-text">Click when the indicator is in the center zone!</div>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="nba-shoot-btn" class="btn-primary btn-large">SHOOT</button>
                    <button id="nba-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="nba-captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- Lunar Lander CAPTCHA Modal -->
        <div id="lunar-lander-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Land the lunar module safely to prove you're human!</p>
                <div id="lunar-lander-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="lunar-lander-timer">30</span>s
                </div>
                <div class="lunar-lander-game-container">
                    <canvas id="lunar-lander-canvas" width="400" height="400"></canvas>
                    <div class="lunar-lander-instruction">
                        Rotate and thrust to land on the green pad!<br>
                        <strong>Land upright at ‚â§ 5 m/s to succeed</strong>
                    </div>
                </div>
                <div class="lunar-lander-controls">
                    <button id="lunar-rotate-left-btn" class="btn-primary lunar-rotate-btn">‚ü≤ ROTATE LEFT</button>
                    <button id="lunar-thrust-btn" class="btn-primary btn-large lunar-thrust-btn">üî• THRUST</button>
                    <button id="lunar-rotate-right-btn" class="btn-primary lunar-rotate-btn">‚ü≥ ROTATE RIGHT</button>
                </div>
                <div class="captcha-buttons">
                    <button class="btn-secondary cancel-captcha">Cancel</button>
                </div>
                <div id="lunar-lander-captcha-error" class="captcha-error hidden"></div>
            </div>
        </div>

        <!-- Tanks CAPTCHA Modal -->
        <div id="tanks-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Hit the enemy tank to prove you're human!</p>
                <div id="tanks-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="tanks-timer">20</span>s
                </div>
                <div class="tanks-game-container">
                    <canvas id="tanks-canvas" width="600" height="400"></canvas>
                    <div class="tanks-controls">
                        <div class="tank-control-group">
                            <label for="tank-angle">Angle: <span id="angle-value">45¬∞</span></label>
                            <input type="range" id="tank-angle" class="tank-slider" min="0" max="90" value="45">
                        </div>
                        <div class="tank-control-group">
                            <label>Power: <span id="power-value">0%</span></label>
                            <div class="power-gauge">
                                <div class="power-gauge-fill" id="power-gauge-fill"></div>
                            </div>
                        </div>
                    </div>
                    <div class="tanks-instruction">
                        Adjust angle, then HOLD the fire button to build power!
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="fire-tank-button" class="btn-primary btn-large">üéØ FIRE!</button>
                    <button id="cancel-tanks-button" class="btn-secondary">Cancel</button>
                </div>
                <div id="tanks-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Darts CAPTCHA Modal -->
        <div id="darts-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Steady your hand and hit the bullseye to prove you're human!</p>
                <div id="darts-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="darts-timer">15</span>s
                </div>
                <div class="darts-game-container">
                    <canvas id="darts-canvas" width="600" height="400"></canvas>
                    <div class="darts-instruction">
                        Click "THROW DART" when the crosshair is over the bullseye!
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="darts-throw-btn" class="btn-primary btn-large">üéØ THROW DART</button>
                    <button id="darts-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="darts-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Chess CAPTCHA Modal -->
        <div id="chess-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Find the checkmate in one move to prove you're human!</p>
                <div id="chess-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="chess-timer">15</span>s
                </div>
                <div class="chess-game-container">
                    <canvas id="chess-canvas" width="400" height="400"></canvas>
                    <div class="chess-instruction">
                        Click a piece to select it, then click where to move it.
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="reset-chess-button" class="btn-secondary">Reset Board</button>
                    <button id="cancel-chess-button" class="btn-secondary">Cancel</button>
                </div>
                <div id="chess-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Pool CAPTCHA Modal -->
        <div id="pool-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Sink both balls to prove you're human! Click and drag to aim, hold to charge power.</p>
                <div id="pool-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="pool-timer">30</span>s
                </div>
                <div id="pool-status" class="pool-status">
                    Sink the 3-ball first
                </div>
                <div class="pool-game-container">
                    <canvas id="pool-canvas" width="600" height="400"></canvas>
                    <div id="pool-power-bar" class="pool-power-bar">
                        <div class="pool-power-label">Shot Power</div>
                        <div class="pool-power-bar-bg">
                            <div id="pool-power-fill" class="pool-power-fill"></div>
                        </div>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="pool-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="pool-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Minesweeper CAPTCHA Modal -->
        <div id="minesweeper-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>End-game scenario: Find the last remaining mine!</p>
                <div id="minesweeper-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="minesweeper-timer">15</span>s
                </div>
                <div class="minesweeper-game-container">
                    <canvas id="minesweeper-canvas" width="300" height="300"></canvas>
                    <div class="minesweeper-instruction">
                        Click to find the mine (don't click safe cells!)
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="minesweeper-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="minesweeper-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Flappy Bird CAPTCHA Modal -->
        <div id="flappy-bird-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Navigate through the pipes to prove you're human!</p>
                <div id="flappy-bird-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time: <span id="flappy-bird-timer">30</span>s
                </div>
                <div class="flappy-bird-score-display">
                    Score: <span id="flappy-bird-score">0</span> / 3
                </div>
                <div class="flappy-bird-game-container">
                    <canvas id="flappy-bird-canvas" width="400" height="500"></canvas>
                </div>
                <div class="captcha-buttons">
                    <button id="flappy-bird-flap-btn" class="btn-primary btn-large">üê¶ FLAP!</button>
                    <button id="flappy-bird-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="flappy-bird-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- SkiFree CAPTCHA Modal -->
        <div id="skifree-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Survive the ski slope for 10 seconds! Move your mouse or drag your finger to control the skier.</p>
                <div id="skifree-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="captcha-timer">
                    Time Remaining: <span id="skifree-timer">10</span>s
                </div>
                <div class="skifree-game-container">
                    <canvas id="skifree-canvas" width="400" height="500"></canvas>
                    <p class="skifree-instructions">üñ±Ô∏è Move your mouse or tap/drag to dodge obstacles and the Yeti!</p>
                </div>
                <div class="captcha-buttons">
                    <button id="skifree-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="skifree-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Simon CAPTCHA Modal -->
        <div id="simon-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Repeat the color pattern to prove you're human!</p>
                <div id="simon-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div id="simon-level" class="simon-level">Ready</div>
                <div class="simon-game-container">
                    <div class="simon-board">
                        <button id="simon-red" class="simon-button simon-red"></button>
                        <button id="simon-green" class="simon-button simon-green"></button>
                        <button id="simon-yellow" class="simon-button simon-yellow"></button>
                        <button id="simon-blue" class="simon-button simon-blue"></button>
                        <div class="simon-center">
                            <div class="simon-logo">SIMON</div>
                        </div>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="simon-start-btn" class="btn-primary btn-large">START</button>
                    <button id="simon-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="simon-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Blackjack CAPTCHA Modal -->
        <div id="blackjack-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Win a hand of Blackjack to prove you're human!</p>
                <div id="blackjack-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="blackjack-game-container">
                    <div class="blackjack-table">
                        <div class="blackjack-hand-container">
                            <h3 class="blackjack-hand-title">Dealer's Hand (<span id="blackjack-dealer-score">0</span>)</h3>
                            <div id="blackjack-dealer-hand" class="blackjack-hand"></div>
                        </div>
                        <div id="blackjack-feedback" class="blackjack-feedback"></div>
                        <div class="blackjack-hand-container">
                            <h3 class="blackjack-hand-title">Your Hand (<span id="blackjack-player-score">0</span>)</h3>
                            <div id="blackjack-player-hand" class="blackjack-hand"></div>
                        </div>
                    </div>
                    <div id="blackjack-actions" class="blackjack-actions">
                        <button id="blackjack-hit-btn" class="btn-primary">Hit</button>
                        <button id="blackjack-stand-btn" class="btn-secondary">Stand</button>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="blackjack-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Snake CAPTCHA Modal -->
        <div id="snake-captcha-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Security Verification</h2>
                <p>Eat 2 blocks to prove you're human!</p>
                <div id="snake-captcha-warning" class="captcha-warning hidden">
                    ‚ö†Ô∏è Warning: Another player is competing for these seats!
                </div>
                <div class="snake-game-container">
                    <div class="snake-phone">
                        <div class="snake-phone-screen">
                            <canvas id="snake-canvas" width="300" height="200"></canvas>
                            <div id="snake-score" class="snake-score">Score: 0 / 2</div>
                        </div>
                    </div>
                    <div class="snake-controls">
                        <button id="snake-up-btn" class="snake-control-btn">‚ñ≤</button>
                        <div class="snake-controls-row">
                            <button id="snake-left-btn" class="snake-control-btn">‚óÑ</button>
                            <button id="snake-right-btn" class="snake-control-btn">‚ñ∫</button>
                        </div>
                        <button id="snake-down-btn" class="snake-control-btn">‚ñº</button>
                    </div>
                </div>
                <div class="captcha-buttons">
                    <button id="snake-start-btn" class="btn-primary">Start</button>
                    <button id="snake-cancel-btn" class="btn-secondary">Cancel</button>
                </div>
                <div id="snake-feedback" class="captcha-error"></div>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="gameover-modal" class="modal hidden">
            <div class="modal-content gameover-content">
                <h2>Game Over!</h2>
                <div class="final-stats">
                    <p class="final-score">Final Score: <span id="final-score">0</span></p>
                    <p class="tickets-bought">Tickets Purchased: <span id="tickets-bought">0</span></p>
                    <p class="total-saved">Total Saved: <span id="total-saved">$0</span></p>
                    <p class="skips-count">Targets Skipped: <span id="skips-count">0</span></p>
                    <p class="skip-penalty">Skip Penalty: <span id="skip-penalty-total">0 pts</span></p>
                </div>
                <div class="purchase-history-section" id="purchase-history-section">
                    <h3>Purchase History</h3>
                    <div class="purchase-history" id="purchase-history">
                        <!-- Purchase history will be generated here -->
                    </div>
                </div>
                <button id="play-again-btn" class="btn-primary">Play Again</button>
            </div>
        </div>

        <!-- Start Screen -->
        <div id="start-modal" class="modal">
            <div class="modal-content start-modal-content">
                <h2>üé´ Welcome to Ticketmaster Master!</h2>
                <p>Beat the rush and score the best deals on concert tickets!</p>
                <div class="start-info">
                    <p><strong>Game Duration:</strong> 2 minutes</p>
                    <p><strong>Objective:</strong> Purchase tickets and maximize your savings</p>
                    <p><strong>Challenge:</strong> Prices fluctuate and seats disappear fast!</p>
                </div>
                <div class="start-instructions">
                    <h3>How to Play</h3>
                    <ul>
                        <li>Match the target ticket count shown at top</li>
                        <li>1-3 seats: must be adjacent in same row</li>
                        <li>4+ seats: can span 2 rows as touching block
                            <div class="block-examples">
                                <div class="example-label">Valid blocks:</div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [‚ñ†][‚ñ†]</div>
                                </div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [‚ñ†][‚ñ†]</div>
                                </div>
                                <div class="block-diagram">
                                    <div class="block-row">Row A: [‚ñ†][‚ñ†]</div>
                                    <div class="block-row">Row B: [ ][‚ñ†][‚ñ†]</div>
                                </div>
                            </div>
                        </li>
                        <li>Can't find seats? Skip target for -50 pts penalty</li>
                        <li>Prices change constantly - grab deals fast!</li>
                        <li>Seats randomly become available/unavailable</li>
                        <li>Complete CAPTCHA challenges to checkout</li>
                        <li>Only valid purchases earn points!</li>
                    </ul>
                </div>
                <div class="mode-selection">
                    <button id="single-player-btn" class="btn-primary btn-large">Single Player</button>
                    <button id="multiplayer-btn" class="btn-secondary btn-large">Multiplayer</button>
                </div>
            </div>
        </div>

        <!-- Multiplayer Setup Modal -->
        <div id="multiplayer-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Multiplayer Mode</h2>
                <p>Compete with a friend for the best deals!</p>
                <div class="multiplayer-options">
                    <button id="host-game-btn" class="btn-primary btn-large">Host Game</button>
                    <button id="join-game-btn" class="btn-secondary btn-large">Join Game</button>
                </div>
                <button id="back-to-start-btn" class="btn-secondary">Back</button>
            </div>
        </div>

        <!-- Host Game Modal -->
        <div id="host-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Host Game</h2>
                <p>Share this code with your friend:</p>
                <div class="game-code-display">
                    <input type="text" id="game-code" class="game-code-input" readonly>
                    <button id="copy-code-btn" class="btn-secondary">Copy</button>
                </div>
                <p class="connection-status" id="host-status">Waiting for player to join...</p>
                <button id="cancel-host-btn" class="btn-secondary">Cancel</button>
            </div>
        </div>

        <!-- Join Game Modal -->
        <div id="join-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Join Game</h2>
                <p>Enter the game code from your friend:</p>
                <input type="text" id="join-code-input" class="game-code-input" placeholder="Enter code">
                <p class="connection-status" id="join-status"></p>
                <div class="modal-buttons">
                    <button id="connect-btn" class="btn-primary">Connect</button>
                    <button id="cancel-join-btn" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Loading Screen Modal -->
        <div id="loading-modal" class="modal hidden">
            <div class="modal-content loading-content">
                <h2>Ticketmaster Waiting Room</h2>
                <p class="loading-status" id="loading-status">Getting you ready...</p>
                <div class="fan-count" id="fan-count">47,823 fans in front of you</div>
                <div class="ready-message hidden" id="ready-message">It's your turn! Get ready to buy your tickets!</div>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                    <div class="stick-figure" id="stick-figure">üö∂‚Äç‚û°Ô∏è</div>
                </div>
            </div>
        </div>

        <!-- Debug Panel -->
        <div id="debug-panel" class="debug-panel hidden">
            <div class="debug-header">
                <h3>üêõ Debug Mode</h3>
                <button id="debug-close-btn" class="debug-close">√ó</button>
            </div>
            <div class="debug-content">
                <h4>Test CAPTCHAs:</h4>
                <div class="debug-buttons">
                    <button id="debug-text-captcha" class="debug-btn">Text CAPTCHA</button>
                    <button id="debug-gas-captcha" class="debug-btn">Gas Pump</button>
                    <button id="debug-puzzle-captcha" class="debug-btn">Puzzle Slider</button>
                    <button id="debug-fishing-captcha" class="debug-btn">Fishing Game</button>
                    <button id="debug-nba-captcha" class="debug-btn">NBA Free Throw</button>
                    <button id="debug-lunar-lander-captcha" class="debug-btn">Lunar Lander</button>
                    <button id="debug-tanks-captcha" class="debug-btn">Tanks Artillery</button>
                    <button id="debug-darts-captcha" class="debug-btn">Darts Bullseye</button>
                    <button id="debug-chess-captcha" class="debug-btn">Chess Checkmate</button>
                    <button id="debug-flappy-bird-captcha" class="debug-btn">Flappy Bird</button>
                    <button id="debug-skifree-captcha" class="debug-btn">SkiFree</button>
                    <button id="debug-pool-captcha" class="debug-btn">Pool Game</button>
                    <button id="debug-simon-captcha" class="debug-btn">Simon Says</button>
                    <button id="debug-minesweeper-captcha" class="debug-btn">Minesweeper</button>
                    <button id="debug-blackjack-captcha" class="debug-btn">Blackjack</button>
                    <button id="debug-snake-captcha" class="debug-btn">Snake</button>
                </div>
                <div class="debug-info">
                    <p><strong>Toggle:</strong> Press <kbd>`</kbd> key</p>
                    <p><em>Debug mode only works when game is running</em></p>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
    <script src="js/captcha/snakeCaptcha.js"></script>
</body>
</html>
